{"version":3,"sources":["../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/home/home.ts","../../src/pages/positioning/positioning.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 110;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 110\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 151;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 151\n// module chunks = 0","import { Component, ChangeDetectorRef } from '@angular/core';\nimport { NavController, Platform } from 'ionic-angular';\nimport { PositioningPage } from '../positioning/positioning';\n\ndeclare var cordova: any;\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\n\n\nexport class HomePage {\n\n  public buildings: any[] = [];\n\n  constructor(public platform: Platform, public navCtrl: NavController, public detector: ChangeDetectorRef) { };\n\n  ionViewDidEnter() {\n    if (this.buildings.length == 0) this.fetchBuildings();\n  };\n\n  public fetchBuildings() {\n    cordova.plugins.Situm.fetchBuildings((res) => {\n      this.buildings = res;\n      this.detector.detectChanges();\n    });\n  };\n\n  goToPositioning(item) {\n    this.navCtrl.push(PositioningPage, { building: item });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { Component, ChangeDetectorRef, ElementRef, ViewChild } from '@angular/core';\nimport { NavController, NavParams, Platform, Events, LoadingController } from 'ionic-angular';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { GoogleMaps, GoogleMap, GoogleMapsEvent, GoogleMapOptions, LatLng, ILatLng, GroundOverlayOptions, GroundOverlay, MarkerOptions, MarkerIcon, Marker, PolylineOptions, HtmlInfoWindow } from '@ionic-native/google-maps';\n\n/**\n * Generated class for the PositioningPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\ndeclare var cordova: any;\ndeclare var plugin: any;\n\n@Component({\n  selector: 'page-positioning',\n  templateUrl: 'positioning.html',\n})\nexport class PositioningPage {\n\n  building: any;\n\n  buildingName: string = '';\n\n  positioning: boolean = false;\n\n  position: any = {\n    statusName: '',\n    floorIdentifier: '',\n    x: -1,\n    y: -1,\n    accuracy: -1,\n    bearing: ''\n  }\n\n  floor: any;\n\n  map: GoogleMap;\n  poiCategories: any[] = [];\n  marker: Marker;\n  pois: any[] = [];\n  groundOverlay: GroundOverlay = null;\n\n  constructor(\n    public platform: Platform,\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public events: Events,\n    public detector: ChangeDetectorRef,\n    public sanitizer: DomSanitizer,\n    public loadingCtrl: LoadingController,\n    public googleMaps: GoogleMaps\n  ) {\n    this.building = this.navParams.get('building');\n  }\n\n  ionViewDidEnter() {\n    this.platform.ready().then(() => {\n      // cordova.plugins.Situm.fetchIndoorPOIsFromBuilding(this.building, (res: any) => {\n      //   console.log(res);\n      //   cordova.plugins.Situm.requestDirections([res[0], res[1]], (res) => {\n      //     console.log(res);\n      //   });\n      // });\n      // cordova.plugins.Situm.fetchOutdoorPOIsFromBuilding(this.building, (res: any) => {\n      //   console.log(res);\n      // });\n      // cordova.plugins.Situm.fetchEventsFromBuilding(this.building, (res: any) => {\n      //   console.log(res);\n      // });\n      cordova.plugins.Situm.fetchPoiCategories((res: any) => {\n        this.poiCategories = res;\n      });\n    });\n  }\n\n  private startPositioning() {\n    if (this.positioning == true) {\n      console.log(\"Position listener is already enabled.\");\n      return;\n    }\n    this.platform.ready().then(() => {\n      let buildings = [this.building];\n      this.positioning = true;\n      if (this.map) {\n        let defaultOptions: MarkerOptions = {\n          title: 'Current position'\n        };\n        this.map.addMarker(defaultOptions).then((marker: Marker) => {\n          this.marker = marker;\n          cordova.plugins.Situm.startPositioning(buildings, (res: any) => {\n            this.position = res;\n            if (this.position.coordinate) {\n              let position: ILatLng = {\n                lat: this.position.coordinate.latitude,\n                lng: this.position.coordinate.longitude\n              };\n              this.marker.setPosition(position);\n              this.detector.detectChanges();\n            }\n          }, (err: any) => {\n            console.log(err);\n          });\n        });\n      }\n    });\n  }\n\n  private showRoute() {\n    if (this.map && this.pois) {\n      cordova.plugins.Situm.requestDirections([this.pois[0], this.pois[1]], (route: any) => {\n        console.log(route);\n        let polylineOptions: PolylineOptions = {\n          color: \"#754967\",\n          width: 4,\n          points: []\n        };\n        route.points.forEach(point => {\n          polylineOptions.points.push({\n            lat: point.coordinate.latitude,\n            lng: point.coordinate.longitude\n          });\n        });\n        this.map.addPolyline(polylineOptions);\n      }, (err: any) => {\n        console.error(err);\n      });\n    }\n  }\n\n  private stopPositioning() {\n    if (this.positioning == false) {\n      console.log(\"Position listener is not enabled.\");\n      return;\n    }\n    this.positioning = false;\n    if (this.marker) this.marker.remove();\n    cordova.plugins.Situm.stopPositioning((res) => {\n      console.log(res);\n    }, (err) => {\n      console.log(err);\n    });\n  }\n\n  private showPois() {\n    cordova.plugins.Situm.fetchIndoorPOIsFromBuilding(this.building, (res: any) => {\n      this.pois = res;\n      console.log(res);\n      if (this.poiCategories && this.map) {\n        res.forEach(element => {\n          console.log(element);\n          let category = this.poiCategories.find((poiCategory: any) => {\n            return poiCategory.poiCategoryCode == element.category\n          });\n          element.category = category;\n          let markerPosition: ILatLng = {\n            lat: element.coordinate.latitude,\n            lng: element.coordinate.longitude\n          }\n          let icon: MarkerIcon = {\n            url: element.category.icon_selected,\n            size: {\n              height: 35,\n              width: 35\n            }\n          }\n          let markerOptions: MarkerOptions = {\n            icon: icon,\n            position: markerPosition\n          };\n          let html = element.infoHtml;\n          let infoWindow = new HtmlInfoWindow();\n          infoWindow.setContent(html);\n          this.map.addMarker(markerOptions).then((marker: Marker) => {\n            marker.on(GoogleMapsEvent.MARKER_CLICK).subscribe(() => {\n              infoWindow.open(marker);\n            });\n          });\n        });\n      }\n    });\n  }\n\n  private showMap() {\n    if (!this.map) {\n      this.platform.ready().then(() => {\n        let loading = this.loadingCtrl.create({\n          content: \"Cargando mapa...\"\n        });\n        loading.present();\n        cordova.plugins.Situm.fetchFloorsFromBuilding(this.building, (res) => {\n          this.floor = res[0];\n          // let element: HTMLElement = document.getElementById('map');\n          let center: LatLng = new LatLng(this.building.center.latitude, this.building.center.longitude);\n          let options: GoogleMapOptions = {\n            camera: {\n              target: center,\n              zoom: 20\n            }\n          };\n          this.map = GoogleMaps.create('map', options);\n          // loading.dismiss();\n          let boundsSW: LatLng = new LatLng(this.building.bounds.southWest.latitude, this.building.bounds.southWest.longitude);\n          let boundsNE: LatLng = new LatLng(this.building.bounds.northEast.latitude, this.building.bounds.northEast.longitude);\n          let bounds = [\n            { lat: this.building.bounds.southWest.latitude, lng: this.building.bounds.southWest.longitude },\n            { lat: this.building.bounds.northEast.latitude, lng: this.building.bounds.northEast.longitude }\n          ];\n          let groundOptions: GroundOverlayOptions = {\n            bounds: bounds,\n            url: this.floor.mapUrl,\n            bearing: this.building.rotation * 180 / Math.PI\n          }\n          this.map.on(GoogleMapsEvent.MAP_READY).subscribe(() => {\n            return this.map.addGroundOverlay(groundOptions).then((data: any) => {\n              this.groundOverlay = data;\n              loading.dismiss();\n            }).catch((err: any) => {\n              console.log(err);\n              loading.dismiss();\n            });\n            // loading.dismiss();\n          });\n        });\n      });\n    }\n  }\n\n  public clear() {\n    this.groundOverlay.remove();\n    this.map.remove();\n  }\n\n  ionViewDidLeave() {\n    this.building = undefined;\n    this.buildingName = undefined;\n    this.positioning = undefined;\n    this.position = undefined;\n    this.floor = undefined;\n    this.map = undefined;\n    this.poiCategories = undefined;\n    this.marker = undefined;\n    this.pois = undefined;\n    this.stopPositioning();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/positioning/positioning.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { GoogleMaps } from '@ionic-native/google-maps';\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { PositioningPage } from '../pages/positioning/positioning';\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage,\n    PositioningPage\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp)\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage,\n    PositioningPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    { provide: ErrorHandler, useClass: IonicErrorHandler },\n    GoogleMaps\n  ]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { Platform, Nav } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { HomePage } from '../pages/home/home';\n\n\ndeclare var cordova: any;\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  @ViewChild(Nav) nav: Nav;\n  constructor(platform: Platform, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      cordova.plugins.Situm.setApiKey(\"oscar.fuentes@cocodin.com\", \"98a83630ce6667627f0e231cbde0f5052512290c9d52e7965f53486587cf7b22\");\n      splashScreen.hide();\n      this.nav.setRoot(HomePage);\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts"],"sourceRoot":""}